import{r as t,c as s,h as i,H as e,g as h}from"./p-a7add0c7.js";import{R as n}from"./p-55a92655.js";import{a}from"./p-3a6987fb.js";const r=class{constructor(i){t(this,i),this.mxPageChange=s(this,"mxPageChange",7),this.hasStatus=!1,this.page=0,this.rowsPerPageOptions=[10,25,50,100],this.rowsPerPage=100,this.simple=!1,this.disabled=!1,this.disableNextPage=!1,this.hideRowsPerPage=!1,this.moveStatusToBottom=!1,this.isXSmallMinWidth=!1,this.isSmallMinWidth=!1}componentWillRender(){this.hasStatus=!!this.element.querySelector('[slot="status"]')}componentDidLoad(){this.rowsMenu&&this.rowsMenuAnchor&&(this.rowsMenu.anchorEl=this.rowsMenuAnchor),this.resizeObserver=new n((()=>this.updateResponsiveElements())),this.resizeObserver.observe(this.element),requestAnimationFrame(this.updateResponsiveElements.bind(this))}updateResponsiveElements(){if(!this.paginationWrapper)return;let t=Array.from(this.paginationWrapper.children).reduce(((t,s)=>t+s.scrollWidth),0);this.hideRowsPerPage&&this.rowsPerPageWrapper&&(t+=this.rowsPerPageWrapper.scrollWidth);const s=t-this.element.offsetWidth;this.hideRowsPerPage=s>0,this.moveStatusToBottom=s>this.rowsPerPageWrapper.scrollWidth,this.isXSmallMinWidth=this.element.offsetWidth>=320,this.isSmallMinWidth=this.element.offsetWidth>=640}onClickFirstPage(){this.mxPageChange.emit({page:0,rowsPerPage:this.rowsPerPage})}onClickPreviousPage(){this.mxPageChange.emit({page:this.page-1,rowsPerPage:this.rowsPerPage})}onClickNextPage(){this.mxPageChange.emit({page:this.page+1,rowsPerPage:this.rowsPerPage})}onClickLastPage(){this.mxPageChange.emit({page:this.lastPage,rowsPerPage:this.rowsPerPage})}onChangeRowsPerPage(t){this.mxPageChange.emit({page:0,rowsPerPage:t})}get lastPage(){return 0===this.totalRows?0:null==this.totalRows?null:Math.ceil(this.totalRows/this.rowsPerPage)-1}get currentRange(){let t=this.rowsPerPage*this.page+1;return t+"–"+Math.min(this.totalRows,t+this.rowsPerPage-1)}get rowRangeClass(){let t="text-center flex-shrink min-w-0";return t+=this.isSmallMinWidth?" px-24":" px-16",this.isXSmallMinWidth||(t+=" whitespace-normal"),t}get paginationWrapperClass(){let t="flex relative";return this.moveStatusToBottom?t+=" flex-col-reverse items-end":(t+=" items-center",t+=this.hasStatus?" justify-between":" justify-end"),t}render(){return i(e,{class:"mx-pagination relative block text-4 whitespace-nowrap select-none"},!this.simple&&i("div",{class:"pagination-bg absolute top-0 left-0 w-full h-56 rounded-b-2xl"}),this.simple?i("div",{class:"simple flex items-center justify-center h-48"},i("mx-icon-button",{"aria-label":"Previous page","chevron-left":!0,disabled:0===this.page||this.disabled,onClick:this.onClickPreviousPage.bind(this)}),null!==this.lastPage?this.page+1+" of "+(this.lastPage+1):"",i("mx-icon-button",{"aria-label":"Next page","chevron-right":!0,disabled:this.page===this.lastPage||this.disabled||this.disableNextPage,onClick:this.onClickNextPage.bind(this)})):i("div",{ref:t=>this.paginationWrapper=t,class:this.paginationWrapperClass},this.hasStatus&&i("div",{"data-testid":"status",class:"px-24 py-10 flex relative items-center justify-self-start"},i("slot",{name:"status"})),i("div",{class:"flex flex-grow-0 items-center justify-end h-56 pr-4"+(this.hideRowsPerPage?" relative":"")},this.rowsPerPageOptions&&this.rowsPerPageOptions.length>1&&i("div",{ref:t=>this.rowsPerPageWrapper=t,"aria-hidden":this.hideRowsPerPage,class:"flex items-center px-24"+(this.hideRowsPerPage?" absolute opacity-0 pointer-events-none":"")},"Rows per page:  ",i("div",{"data-testid":"rows-per-page",ref:t=>this.rowsMenuAnchor=t,class:"flex items-center cursor-pointer"},this.rowsPerPage,i("span",{class:"ml-12",innerHTML:a})),i("mx-menu",{ref:t=>this.rowsMenu=t},this.rowsPerPageOptions.map((t=>i("mx-menu-item",{disabled:this.disabled,onClick:this.onChangeRowsPerPage.bind(this,t)},t))))),this.totalRows>0&&i("div",{"data-testid":"row-range",class:this.rowRangeClass},this.currentRange," of ",this.totalRows),i("div",{class:"flex items-center sm:space-x-8"},i("mx-icon-button",{"aria-label":"First page",innerHTML:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M18.41 16.59L13.82 12L18.41 7.41L17 6L11 12L17 18L18.41 16.59ZM6 6H8V18H6V6Z" fill="currentColor" />\n</svg>\n',disabled:0===this.page||this.disabled,onClick:this.onClickFirstPage.bind(this)}),i("mx-icon-button",{"aria-label":"Previous page",innerHTML:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M15 7.41L10.42 12L15 16.59L13.59 18L7.59 12L13.59 6L15 7.41Z" fill="currentColor"/>\n</svg>\n',disabled:0===this.page||this.disabled,onClick:this.onClickPreviousPage.bind(this)}),i("mx-icon-button",{"aria-label":"Next page",innerHTML:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M8.58997 16.59L13.17 12L8.58997 7.41L9.99997 6L16 12L9.99997 18L8.58997 16.59Z" fill="currentColor"/>\n</svg>\n',disabled:this.page===this.lastPage||this.disabled||this.disableNextPage,onClick:this.onClickNextPage.bind(this)}),null!==this.lastPage&&i("mx-icon-button",{"aria-label":"Last page",innerHTML:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M5.58997 7.41L10.18 12L5.58997 16.59L6.99997 18L13 12L6.99997 6L5.58997 7.41ZM16 6H18V18H16V6Z" fill="currentColor"/>\n</svg>\n',disabled:this.page===this.lastPage||this.disabled,onClick:this.onClickLastPage.bind(this)})))))}get element(){return h(this)}};export{r as mx_pagination}