import{r as t,h as s,H as e,c as i,g as n}from"./p-0d0438ba.js";import{r}from"./p-80b3e177.js";import{c as h}from"./p-2704e8d1.js";import{M as l,m as o}from"./p-8a252c56.js";import{c as a}from"./p-78de58ad.js";import{a as c}from"./p-3a6987fb.js";const u=class{constructor(s){t(this,s),this.btnType="contained",this.type="button",this.disabled=!1,this.xl=!1,this.full=!1,this.dropdown=!1}onClick(t){if(this.disabled)return t.stopPropagation(),void t.preventDefault();r(t,this.href?this.anchorElem:this.btnElem)}get buttonClass(){let t=this.btnType;return this.dropdown&&(t+=" dropdown"),t+=" flex items-center justify-center relative overflow-hidden cursor-pointer disabled:cursor-auto hover:no-underline",["contained","outlined"].includes(this.btnType)&&(t+=" w-full rounded-lg font-semibold uppercase","outlined"===this.btnType&&(t+=" border"),t+=this.xl?" min-h-48 px-32 text-3 tracking-1-5":" min-h-36 px-16 text-4 tracking tracking-1-25"),"action"===this.btnType&&(t+=" w-full min-h-36 px-16 border rounded-3xl text-4"),"text"===this.btnType&&(t+=" w-full min-h-36 px-8 py-10 text-4 rounded-lg",t+=this.dropdown?" font-normal":" font-semibold uppercase tracking-1-25"),t}render(){const t=s("div",{class:"flex justify-center items-center content-center relative"},this.icon&&s("i",{class:"mr-8 text-3 "+this.icon}),s("span",{class:"slot-content"},s("slot",null)),this.dropdown&&"text"===this.btnType&&s("span",{class:"separator inline-block w-1 ml-4 -my-4 h-24"}),this.dropdown&&s("span",{"data-testid":"chevron",class:"text"===this.btnType?"chevron-icon ml-4":"ml-8",innerHTML:h}));return s(e,{class:"mx-button"+(this.full?" flex":" inline-flex")},this.href?s("a",{href:this.href,target:this.target,class:this.buttonClass,ref:t=>this.anchorElem=t,onClick:this.onClick.bind(this)},t):s("button",{type:this.type,formaction:this.formaction,value:this.value,class:this.buttonClass,ref:t=>this.btnElem=t,onClick:this.onClick.bind(this),"aria-disabled":this.disabled},t))}},d=class{constructor(s){t(this,s),this.type="button",this.disabled=!1,this.chevronDown=!1,this.chevronLeft=!1,this.chevronRight=!1}onClick(t){if(this.disabled)return t.stopPropagation(),void t.preventDefault()}get isChevron(){return this.chevronDown||this.chevronLeft||this.chevronRight}render(){const t=s("div",{class:"flex justify-center items-center content-center relative"},this.icon&&s("i",{class:["text-1",this.icon].join(" ")}),s("span",{class:"slot-content"},s("slot",null)),this.isChevron&&s("span",{class:"chevron-wrapper inline-flex w-24 h-24 rounded-full items-center justify-center shadow-1"},s("span",{"data-testid":"chevron",class:this.chevronLeft?"transform rotate-90":this.chevronRight?"transform -rotate-90":"",innerHTML:h})));return s(e,{class:"mx-icon-button inline-block"},s("button",{type:this.type,formaction:this.formaction,value:this.value,class:"flex items-center w-48 h-48 rounded-full justify-center relative overflow-hidden cursor-pointer disabled:cursor-auto",ref:t=>this.btnElem=t,onClick:this.onClick.bind(this),"aria-disabled":this.disabled,"aria-label":this.ariaLabel},t))}},m=class{constructor(s){t(this,s),this.mxClick=i(this,"mxClick",7),this.checked=!1,this.disabled=!1,this.multiSelect=!1,this.minWidths=new l}onMouseEnter(){this.closeSiblingSubMenus(),this.focusMenuItem(),this.submenu&&(clearTimeout(this.submenuDelayTimeout),this.submenuDelayTimeout=setTimeout(this.openSubMenu.bind(this),150))}onMouseLeave(){clearTimeout(this.submenuDelayTimeout),document.activeElement.blur()}onFocus(){this.closeSiblingSubMenus()}onKeyDown(t){if(this.submenu)return this.onKeyDownSubMenu(t);["Enter"," "].includes(t.key)&&(t.preventDefault(),t.stopPropagation(),document.activeElement.click())}componentWillLoad(){this.submenu=this.element.querySelector('[slot="submenu"]')}connectedCallback(){o.subscribeComponent(this)}disconnectedCallback(){o.unsubscribeComponent(this)}async closeSubMenu(){if(this.submenu)return clearTimeout(this.submenuDelayTimeout),await this.submenu.closeMenu()}async focusMenuItem(){if(this.multiSelect){const t=this.menuItemElem.querySelector("mx-checkbox label");t&&t.focus()}else this.menuItemElem.focus()}async onKeyDownSubMenu(t){if(["Enter"," ","ArrowRight"].includes(t.key)){if(t.preventDefault(),t.stopPropagation(),await this.openSubMenu()){const t=this.element.querySelector("mx-menu-item:not(:disabled)");t&&t.focusMenuItem()}}else"ArrowLeft"===t.key&&(t.preventDefault(),t.stopPropagation(),await this.closeSubMenu()?this.focusMenuItem():this.element.parentElement.dispatchEvent(new KeyboardEvent(t.type,t)))}closeSiblingSubMenus(){Array.from(this.element.parentElement.children).filter((t=>t!==this.element&&"MX-MENU-ITEM"===t.tagName)).forEach((t=>t.closeSubMenu()))}openSubMenu(){if(this.submenu)return this.submenu.placement="right-start",this.submenu.anchorEl=this.element,this.submenu.openMenu()}onClick(t){if(this.disabled||this.submenu)return t.stopPropagation(),void t.preventDefault();this.multiSelect||this.mxClick.emit(t)}get checkboxLabel(){return(this.slotWrapper||this.element).innerText}render(){return s(e,{class:"mx-menu-item block"+(this.submenu?" has-submenu":"")},s("div",{ref:t=>this.menuItemElem=t,role:"menuitem","aria-selected":this.checked,"aria-disabled":this.disabled,tabindex:this.disabled||this.multiSelect?"-1":"0",class:"block w-full cursor-pointer select-none text-4 outline-none",onClick:this.onClick.bind(this)},this.label&&s("p",{class:"item-label flex items-end py-0 px-12 my-0 h-18 uppercase subtitle5"},s("span",{class:"block -mb-4"},this.label)),s("div",{class:"flex items-center w-full justify-between px-12 h-48 sm:h-32 whitespace-nowrap"+(this.multiSelect?" hidden":"")},s("div",{class:"flex items-center w-full h-full"},void 0!==this.icon&&s("i",{class:"inline-flex items-center justify-center text-1 w-20 mr-8 "+this.icon}),s("span",{ref:t=>this.slotWrapper=t,class:"overflow-hidden overflow-ellipsis"},s("slot",null))),this.checked&&!this.multiSelect&&s("span",{class:"check ml-12","data-testid":"check",innerHTML:a}),!!this.submenu&&s("span",{class:"transform -rotate-90","data-testid":"arrow",innerHTML:c})),this.multiSelect&&s("mx-checkbox",{class:"flex items-stretch w-full overflow-hidden h-48 sm:h-32","label-class":"pl-12 pr-16",checked:this.checked,"label-name":this.checkboxLabel,"label-left":!this.minWidths.sm})),s("slot",{name:"submenu"}))}get element(){return n(this)}};export{u as mx_button,d as mx_icon_button,m as mx_menu_item}